import{u as ie}from"./authorityManagement-Ssf2PRdW.js";import{u as Ue,r as c,q as re,m as _,o as A,c as R,a as l,k as f,d as m,p as a,y as r,f as v,w as k,v as S,t as p,F as Z,s as de,z as se,g as i,l as N,b as Le}from"./index-BZcIPdcA.js";import{u as Be}from"./order-DhJ0DpvZ.js";const je={class:"2xl:flex-[2] xl:w-[70%] w-[60%] border-r-2 border-solid border-black rounded-lg"},Ee={class:"flex justify-between mt-2"},Te=l("div",{class:"ml-2 md:text-lg sm:text-sm text-xs text-blue-800 font-bold border-b-2 border-solid border-black"},"人員名單",-1),$e={class:"flex mr-2"},Fe={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ne={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ze={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Je={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},qe={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ge={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},He={class:"dialog-footer"},Ke={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Qe={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Re={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},We={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ye={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ze={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},et={class:"dialog-footer"},tt={class:"overflow-x-auto w-full"},lt={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},at={class:"text-blue-800"},nt={class:"h-full flex items-center"},ot={class:"text-blue-800"},ut={class:"2xl:flex-[1] xl:w-[30%] w-[40%]"},rt={class:"flex justify-between mt-2"},dt=l("div",{class:"ml-2 md:text-lg sm:text-sm text-xs text-blue-800 font-bold border-b-2 border-solid border-black"},"付款方式",-1),st={class:"flex mr-2"},it={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ct={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},vt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},bt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ft={class:"dialog-footer"},mt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ht={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},pt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},gt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},xt={class:"dialog-footer"},yt={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},kt={class:"text-blue-800"},St={class:"h-full flex items-center"},_t={class:"text-blue-800"},Ct={__name:"index",setup(ce){const x=ie(),y=Be(),g=Ue(),u=c({}),ve=n=>{u.value=n},z=c(!1),be=()=>{D.value="",J.value="",q.value="",V.value="",G.value="",s.value=[],z.value=!0},fe=()=>{z.value=!1,i.error("操作取消")},D=c(),J=c(""),q=c(""),V=c(""),G=c(""),s=c([]),me=n=>{n.includes("canCheckOrder")||(s.value=s.value.filter(e=>e!="canEditOrderStatus"&&e!="canDeleteOrder")),n.includes("canCheckBackgroundSetting")||(s.value=s.value.filter(e=>e!="canSetDrinkType"&&e!="canSetDrink"&&e!="canSetIngredients"&&e!="canSetMoneyDiscount"&&e!="canSetPercentDiscount"&&e!="canSetOftenUseDiscount")),n.includes("canCheckAuthority")||(s.value=s.value.filter(e=>e!="canSetAuthority"&&e!="canSetPayMethod"))},he=()=>{if(D.value==""||J.value==""||q.value==""||V.value==""||G.value==""){i.error("請輸入完整資訊");return}if(x.staffList.find(e=>e.id==D.value)){i.error("此Id已存在,請重新輸入");return}if(x.staffList.find(e=>e.account==V.value)){i.error("此帳號已存在,請重新輸入");return}if(D.value<=0){i.error("Id不可為負數且需大於0,請重新輸入");return}const n={id:D.value,name:J.value,jobTitle:q.value,account:V.value,password:G.value,authorityCheckList:s.value,canFreeDrink:s.value.some(e=>e.includes("canFreeDrink"))?"O":"X",canOpenCashier:s.value.some(e=>e.includes("canOpenCashier"))?"O":"X",canCheckOrder:s.value.some(e=>e.includes("canCheckOrder"))?"O":"X",canEditOrderStatus:s.value.some(e=>e.includes("canEditOrderStatus"))?"O":"X",canDeleteOrder:s.value.some(e=>e.includes("canDeleteOrder"))?"O":"X",canCheckBackgroundSetting:s.value.some(e=>e.includes("canCheckBackgroundSetting"))?"O":"X",canSetDrinkType:s.value.some(e=>e.includes("canSetDrinkType"))?"O":"X",canSetDrink:s.value.some(e=>e.includes("canSetDrink"))?"O":"X",canSetIngredients:s.value.some(e=>e.includes("canSetIngredients"))?"O":"X",canSetMoneyDiscount:s.value.some(e=>e.includes("canSetMoneyDiscount"))?"O":"X",canSetPercentDiscount:s.value.some(e=>e.includes("canSetPercentDiscount"))?"O":"X",canSetOftenUseDiscount:s.value.some(e=>e.includes("canSetOftenUseDiscount"))?"O":"X",canCheckDataAnalysis:s.value.some(e=>e.includes("canCheckDataAnalysis"))?"O":"X",canCheckAuthority:s.value.some(e=>e.includes("canCheckAuthority"))?"O":"X",canSetAuthority:s.value.some(e=>e.includes("canSetAuthority"))?"O":"X",canSetPayMethod:s.value.some(e=>e.includes("canSetPayMethod"))?"O":"X"};x.staffList.push(n),i.success("新增人員成功"),z.value=!1},pe=()=>{if(u.value.id==1){i.error("不可刪除店長");return}if(u.value.account===g.userInfo.account){i.error("不可刪除自己");return}u.value.name?N.confirm(`是否刪除人員 ${u.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{x.staffList=x.staffList.filter(n=>n.id!==u.value.id),i.success("刪除成功")}).catch(()=>{i.error("取消操作")}):N.alert("請先選擇要刪除的人員","通知",{confirmButtonText:"繼續選擇",type:"info"})},X=c(!1),C=c(),U=c(""),L=c(""),M=c(""),B=c(""),d=c([]),ge=n=>{n.includes("canCheckOrder")||(d.value=d.value.filter(e=>e!="canEditOrderStatus"&&e!="canDeleteOrder")),n.includes("canCheckBackgroundSetting")||(d.value=d.value.filter(e=>e!="canSetDrinkType"&&e!="canSetDrink"&&e!="canSetIngredients"&&e!="canSetMoneyDiscount"&&e!="canSetPercentDiscount"&&e!="canSetOftenUseDiscount")),n.includes("canCheckAuthority")||(d.value=d.value.filter(e=>e!="canSetAuthority"&&e!="canSetPayMethod"))},xe=()=>{if(u.value.id===1){i.error("不可編輯店長");return}if(u.value.account===g.userInfo.account){i.error("不可編輯自己");return}u.value.name?(C.value=u.value.id,U.value=u.value.name,L.value=u.value.jobTitle,M.value=u.value.account,B.value=u.value.password,d.value=u.value.authorityCheckList,X.value=!0):N.alert("請先選擇要編輯的人員","通知",{confirmButtonText:"繼續選擇",type:"info"})},ye=()=>{X.value=!1,i.error("操作取消")},ke=()=>{if(C.value==""||U.value==""||L.value==""||M.value==""||B.value==""){i.error("請輸入完整資訊");return}if(C.value==u.value.id&&U.value==u.value.name&&L.value==u.value.jobTitle&&M.value==u.value.account&&B.value==u.value.password&&d.value==u.value.authorityCheckList){X.value=!1,i.success("保存成功");return}else{const n=c([]);if(n.value=x.staffList.filter(o=>o.id!=u.value.id),n.value.some(o=>o.id==C.value)){i.error("此Id已存在,請重新輸入");return}const e=c([]);if(e.value=x.staffList.filter(o=>o.account!=u.value.account),e.value.some(o=>o.account==M.value)){i.error("此帳號已存在,請重新輸入");return}if(C.value<=0){i.error("Id不可為負數且需大於0,請重新輸入");return}}u.value.id=C.value,u.value.name=U.value,u.value.jobTitle=L.value,u.value.account=M.value,u.value.password=B.value,u.value.authorityCheckList=d.value,u.value.canFreeDrink=d.value.some(n=>n.includes("canFreeDrink"))?"O":"X",u.value.canOpenCashier=d.value.some(n=>n.includes("canOpenCashier"))?"O":"X",u.value.canCheckOrder=d.value.some(n=>n.includes("canCheckOrder"))?"O":"X",u.value.canEditOrderStatus=d.value.some(n=>n.includes("canEditOrderStatus"))?"O":"X",u.value.canDeleteOrder=d.value.some(n=>n.includes("canDeleteOrder"))?"O":"X",u.value.canCheckBackgroundSetting=d.value.some(n=>n.includes("canCheckBackgroundSetting"))?"O":"X",u.value.canSetDrinkType=d.value.some(n=>n.includes("canSetDrinkType"))?"O":"X",u.value.canSetDrink=d.value.some(n=>n.includes("canSetDrink"))?"O":"X",u.value.canSetIngredients=d.value.some(n=>n.includes("canSetIngredients"))?"O":"X",u.value.canSetMoneyDiscount=d.value.some(n=>n.includes("canSetMoneyDiscount"))?"O":"X",u.value.canSetPercentDiscount=d.value.some(n=>n.includes("canSetPercentDiscount"))?"O":"X",u.value.canSetOftenUseDiscount=d.value.some(n=>n.includes("canSetOftenUseDiscount"))?"O":"X",u.value.canCheckDataAnalysis=d.value.some(n=>n.includes("canCheckDataAnalysis"))?"O":"X",u.value.canCheckAuthority=d.value.some(n=>n.includes("canCheckAuthority"))?"O":"X",u.value.canSetAuthority=d.value.some(n=>n.includes("canSetAuthority"))?"O":"X",u.value.canSetPayMethod=d.value.some(n=>n.includes("canSetPayMethod"))?"O":"X",X.value=!1,i.success("保存成功")},j=c(1),Se=n=>{j.value=n},_e=re(()=>x.staffList.slice((j.value-1)*10,j.value*10)),h=c({}),Ce=n=>{h.value=n},H=c(!1),we=()=>{P.value="",E.value="",K.value="",W.value=!0,H.value=!0},Oe=()=>{H.value=!1,i.error("操作取消")},P=c(),E=c(""),K=c(""),ee=c([{value:"紙鈔",label:"紙鈔"},{value:"感應",label:"感應"},{value:"掃描",label:"掃描"}]),W=c(!0),De=()=>{if(P.value==""||E.value==""||K.value==""){i.error("請輸入完整資訊");return}if(y.paymentList.find(e=>e.id==P.value)){i.error("此Id已存在,請重新輸入");return}if(y.paymentList.find(e=>e.name==E.value)){i.error("此付款方式已存在,請重新輸入");return}if(P.value<=0){i.error("Id不可為負數且需大於0,請重新輸入");return}const n={id:P.value,name:E.value,disabled:!W.value,useMethod:K.value};y.paymentList.push(n),i.success("新增付款方式成功"),H.value=!1},Me=()=>{if(h.value.id==1){i.error("不可刪除現金支付");return}h.value.name?N.confirm(`是否刪除付款方式 ${h.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{y.paymentList=y.paymentList.filter(n=>n.id!==h.value.id),i.success("刪除成功")}).catch(()=>{i.error("取消操作")}):N.alert("請先選擇要刪除的付款方式","通知",{confirmButtonText:"繼續選擇",type:"info"})},T=c(!1),w=c(),I=c(""),$=c(""),Q=c(!0),Pe=()=>{if(h.value.id===1){i.error("不可編輯現金支付");return}if(h.value.name)y.payment="現金",y.currentSelectingUseMethod="紙鈔",y.useMethod="紙鈔",w.value=h.value.id,I.value=h.value.name,$.value=h.value.useMethod,Q.value=!h.value.disabled,T.value=!0;else{N.alert("請先選擇要編輯的付款方式","通知",{confirmButtonText:"繼續選擇",type:"info"});return}},Ie=()=>{T.value=!1,i.error("操作取消")},Ae=()=>{if(w.value==""||I.value==""||$.value==""){i.error("請輸入完整資訊");return}if(w.value==h.value.id&&I.value==h.value.name&&$.value==h.value.useMethod&&Q.value==!h.value.disabled){T.value=!1,i.success("保存成功");return}else{const n=c([]);if(n.value=y.paymentList.filter(o=>o.id!=h.value.id),n.value.some(o=>o.id==w.value)){i.error("此Id已存在,請重新輸入");return}const e=c([]);if(e.value=y.paymentList.filter(o=>o.name!=h.value.name),e.value.some(o=>o.name==I.value)){i.error("此支付方式已存在,請重新輸入");return}if(w.value<=0){i.error("Id不可為負數且需大於0,請重新輸入");return}}h.value.id=w.value,h.value.name=I.value,h.value.useMethod=$.value,h.value.disabled=!Q.value,T.value=!1,i.success("保存成功")},F=c(1),Ve=n=>{F.value=n},Xe=re(()=>y.paymentList.slice((F.value-1)*10,F.value*10));return(n,e)=>{const o=_("el-checkbox"),te=_("el-checkbox-group"),O=_("el-button"),Y=_("el-dialog"),b=_("el-table-column"),le=_("el-table"),ae=_("el-pagination"),ne=_("el-option"),oe=_("el-select"),ue=_("el-switch");return A(),R(Z,null,[l("div",je,[l("div",Ee,[Te,l("div",$e,[l("button",{onClick:be,class:f([{"opacity-50":m(g).userInfo.canSetAuthority==="X","pointer-events-none":m(g).userInfo.canSetAuthority==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),a(Y,{modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=t=>z.value=t),title:"新增人員",width:"500"},{footer:r(()=>[l("div",He,[a(O,{onClick:fe},{default:r(()=>[v("取消")]),_:1}),a(O,{type:"primary",onClick:he},{default:r(()=>[v(" 新增 ")]),_:1})])]),default:r(()=>[l("div",Fe,[v(" 人員的Id:"),k(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>D.value=t),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[S,D.value]])]),l("div",Ne,[v(" 人員的名稱:"),k(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>J.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: Jensen、Jacky..."},null,512),[[S,J.value]])]),l("div",ze,[v(" 人員的職稱:"),k(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>q.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 襄理、工讀生..."},null,512),[[S,q.value]])]),l("div",Je,[v(" 人員的帳號:"),k(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>V.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"請輸入帳號"},null,512),[[S,V.value]])]),l("div",qe,[v(" 人員的密碼:"),k(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>G.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"請輸入密碼"},null,512),[[S,G.value]])]),l("div",Ge,[v(" 權限管理: "),a(te,{onChange:me,class:"w-[265px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2 grid grid-cols-2 gap-0.5",modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value=t)},{default:r(()=>[a(o,{label:"免費招待",value:"canFreeDrink"}),a(o,{label:"開收銀機",value:"canOpenCashier"}),a(o,{label:"查看訂單",value:"canCheckOrder"}),a(o,{label:"編輯訂單狀態",value:"canEditOrderStatus",disabled:!s.value.includes("canCheckOrder")},null,8,["disabled"]),a(o,{label:"刪除訂單",value:"canDeleteOrder",disabled:!s.value.includes("canCheckOrder")},null,8,["disabled"]),a(o,{label:"查看後台設定",value:"canCheckBackgroundSetting"}),a(o,{label:"設定飲品類型",value:"canSetDrinkType",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定飲料品項",value:"canSetDrink",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定配料",value:"canSetIngredients",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定現金折扣券",value:"canSetMoneyDiscount",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定折數折扣券",value:"canSetPercentDiscount",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定常用優惠",value:"canSetOftenUseDiscount",disabled:!s.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"查看數據分析",value:"canCheckDataAnalysis"}),a(o,{label:"查看權限管理",value:"canCheckAuthority"}),a(o,{label:"設定人員名單",value:"canSetAuthority",disabled:!s.value.includes("canCheckAuthority")},null,8,["disabled"]),a(o,{label:"設定付款方式",value:"canSetPayMethod",disabled:!s.value.includes("canCheckAuthority")},null,8,["disabled"])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),l("button",{onClick:pe,class:f([{"opacity-50":m(g).userInfo.canSetAuthority==="X","pointer-events-none":m(g).userInfo.canSetAuthority==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),l("button",{onClick:xe,class:f([{"opacity-50":m(g).userInfo.canSetAuthority==="X","pointer-events-none":m(g).userInfo.canSetAuthority==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),a(Y,{modelValue:X.value,"onUpdate:modelValue":e[13]||(e[13]=t=>X.value=t),title:"編輯人員",width:"500"},{footer:r(()=>[l("div",et,[a(O,{onClick:ye},{default:r(()=>[v("取消")]),_:1}),a(O,{type:"primary",onClick:ke},{default:r(()=>[v(" 保存 ")]),_:1})])]),default:r(()=>[l("div",Ke,[v(" 人員的Id:"),k(l("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>C.value=t),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[S,C.value]])]),l("div",Qe,[v(" 人員的名稱:"),k(l("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>U.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: Jensen、Jacky..."},null,512),[[S,U.value]])]),l("div",Re,[v(" 人員的職稱:"),k(l("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>L.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 襄理、工讀生..."},null,512),[[S,L.value]])]),l("div",We,[v(" 人員的帳號:"),k(l("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>M.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"請輸入帳號"},null,512),[[S,M.value]])]),l("div",Ye,[v(" 人員的密碼:"),k(l("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>B.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"請輸入密碼"},null,512),[[S,B.value]])]),l("div",Ze,[v(" 權限管理: "),a(te,{class:"w-[265px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2 grid grid-cols-2 gap-0.5",modelValue:d.value,"onUpdate:modelValue":e[12]||(e[12]=t=>d.value=t),onChange:ge},{default:r(()=>[a(o,{label:"免費招待",value:"canFreeDrink"}),a(o,{label:"開收銀機",value:"canOpenCashier"}),a(o,{label:"查看訂單",value:"canCheckOrder"}),a(o,{label:"編輯訂單狀態",value:"canEditOrderStatus",disabled:!d.value.includes("canCheckOrder")},null,8,["disabled"]),a(o,{label:"刪除訂單",value:"canDeleteOrder",disabled:!d.value.includes("canCheckOrder")},null,8,["disabled"]),a(o,{label:"查看後台設定",value:"canCheckBackgroundSetting"}),a(o,{label:"設定飲品類型",value:"canSetDrinkType",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定飲料品項",value:"canSetDrink",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定配料",value:"canSetIngredients",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定現金折扣券",value:"canSetMoneyDiscount",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定折數折扣券",value:"canSetPercentDiscount",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"設定常用優惠",value:"canSetOftenUseDiscount",disabled:!d.value.includes("canCheckBackgroundSetting")},null,8,["disabled"]),a(o,{label:"查看數據分析",value:"canCheckDataAnalysis"}),a(o,{label:"查看權限管理",value:"canCheckAuthority"}),a(o,{label:"設定人員名單",value:"canSetAuthority",disabled:!d.value.includes("canCheckAuthority")},null,8,["disabled"]),a(o,{label:"設定付款方式",value:"canSetPayMethod",disabled:!d.value.includes("canCheckAuthority")},null,8,["disabled"])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])]),l("div",tt,[a(le,{class:"cursor-pointer mt-2",data:_e.value,"highlight-current-row":"",height:"440",style:{width:"100%","overflow-x":"auto"},"empty-text":"人員名單是空的",onCurrentChange:ve},{default:r(()=>[a(b,{fixed:"",align:"center",label:"人員名稱",prop:"name","min-width":"80"}),a(b,{align:"center",label:"Id",prop:"id","min-width":"55"}),a(b,{align:"center",label:"職稱",prop:"jobTitle","min-width":"80"}),a(b,{align:"center",label:"帳號",prop:"account","min-width":"80"}),a(b,{align:"center",label:"密碼",prop:"password","min-width":"95"}),a(b,{align:"center",label:"免費招待","min-width":"80"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canFreeDrink!="O"}])},p(t.canFreeDrink),3)]),_:1}),a(b,{align:"center",label:"開收銀機","min-width":"80"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canOpenCashier!="O"}])},p(t.canOpenCashier),3)]),_:1}),a(b,{align:"center",label:"查看訂單","min-width":"80"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canCheckOrder!="O"}])},p(t.canCheckOrder),3)]),_:1}),a(b,{align:"center",label:"編輯訂單狀態","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canEditOrderStatus!="O"}])},p(t.canEditOrderStatus),3)]),_:1}),a(b,{align:"center",label:"刪除訂單","min-width":"80"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canDeleteOrder!="O"}])},p(t.canDeleteOrder),3)]),_:1}),a(b,{align:"center",label:"查看後台設定","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canCheckBackgroundSetting!="O"}])},p(t.canCheckBackgroundSetting),3)]),_:1}),a(b,{align:"center",label:"設定飲品類型","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetDrinkType!="O"}])},p(t.canSetDrinkType),3)]),_:1}),a(b,{align:"center",label:"設定飲料品項","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetDrink!="O"}])},p(t.canSetDrink),3)]),_:1}),a(b,{align:"center",label:"設定配料","min-width":"80"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetIngredients!="O"}])},p(t.canSetIngredients),3)]),_:1}),a(b,{align:"center",label:"設定現金折扣券","min-width":"125"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetMoneyDiscount!="O"}])},p(t.canSetMoneyDiscount),3)]),_:1}),a(b,{align:"center",label:"設定折數折扣券","min-width":"125"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetPercentDiscount!="O"}])},p(t.canSetPercentDiscount),3)]),_:1}),a(b,{align:"center",label:"設定常用優惠","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetOftenUseDiscount!="O"}])},p(t.canSetOftenUseDiscount),3)]),_:1}),a(b,{align:"center",label:"查看數據分析","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canCheckDataAnalysis!="O"}])},p(t.canCheckDataAnalysis),3)]),_:1}),a(b,{align:"center",label:"查看權限管理","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canCheckAuthority!="O"}])},p(t.canCheckAuthority),3)]),_:1}),a(b,{align:"center",label:"設定人員名單","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetAuthority!="O"}])},p(t.canSetAuthority),3)]),_:1}),a(b,{align:"center",label:"設定付款方式","min-width":"110"},{default:r(({row:t})=>[l("p",{class:f(["text-green-500",{"text-red-700":t.canSetPayMethod!="O"}])},p(t.canSetPayMethod),3)]),_:1})]),_:1},8,["data"]),l("div",lt,[l("p",at,p(`共 ${m(x).staffList.length} 樣`),1),l("div",nt,[a(ae,{"current-page":j.value,"onUpdate:currentPage":e[14]||(e[14]=t=>j.value=t),small:"",background:"",layout:"prev, next",total:m(x).staffList.length,onCurrentChange:Se},null,8,["current-page","total"])]),l("p",ot,p(`${m(x).staffList.length>0?j.value:0}/${Math.ceil(m(x).staffList.length/10)}頁`),1)])])]),l("div",ut,[l("div",rt,[dt,l("div",st,[l("button",{onClick:we,class:f([{"opacity-50":m(g).userInfo.canSetPayMethod==="X","pointer-events-none":m(g).userInfo.canSetPayMethod==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),a(Y,{modelValue:H.value,"onUpdate:modelValue":e[19]||(e[19]=t=>H.value=t),title:"新增付款方式",width:"500"},{footer:r(()=>[l("div",ft,[a(O,{onClick:Oe},{default:r(()=>[v("取消")]),_:1}),a(O,{type:"primary",onClick:De},{default:r(()=>[v(" 新增 ")]),_:1})])]),default:r(()=>[l("div",it,[v(" 付款方式的Id:"),k(l("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>P.value=t),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[S,P.value]])]),l("div",ct,[v(" 付款方式的名稱:"),k(l("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>E.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 現金、LinePay..."},null,512),[[S,E.value]])]),l("div",vt,[v(" 支付方式:"),a(oe,{modelValue:K.value,"onUpdate:modelValue":e[17]||(e[17]=t=>K.value=t),placeholder:"選擇支付方式",size:"default",style:{width:"235px"}},{default:r(()=>[(A(!0),R(Z,null,de(ee.value,t=>(A(),se(ne,{class:"text-center",key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",bt,[v(" 是否啟用: "),a(ue,{class:"w-[235px]",size:"large",modelValue:W.value,"onUpdate:modelValue":e[18]||(e[18]=t=>W.value=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])])]),_:1},8,["modelValue"]),l("button",{onClick:Me,class:f([{"opacity-50":m(g).userInfo.canSetPayMethod==="X","pointer-events-none":m(g).userInfo.canSetPayMethod==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),l("button",{onClick:Pe,class:f([{"opacity-50":m(g).userInfo.canSetPayMethod==="X","pointer-events-none":m(g).userInfo.canSetPayMethod==="X"},"px-2 border-2 border-solid border-black rounded-lg mx-1 md:text-md text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),a(Y,{modelValue:T.value,"onUpdate:modelValue":e[24]||(e[24]=t=>T.value=t),title:"編輯付款方式",width:"500"},{footer:r(()=>[l("div",xt,[a(O,{onClick:Ie},{default:r(()=>[v("取消")]),_:1}),a(O,{type:"primary",onClick:Ae},{default:r(()=>[v(" 保存 ")]),_:1})])]),default:r(()=>[l("div",mt,[v(" 付款方式的Id:"),k(l("input",{"onUpdate:modelValue":e[20]||(e[20]=t=>w.value=t),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[S,w.value]])]),l("div",ht,[v(" 付款方式的名稱:"),k(l("input",{"onUpdate:modelValue":e[21]||(e[21]=t=>I.value=t),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 現金、LinePay..."},null,512),[[S,I.value]])]),l("div",pt,[v(" 支付方式:"),a(oe,{modelValue:$.value,"onUpdate:modelValue":e[22]||(e[22]=t=>$.value=t),placeholder:"選擇支付方式",size:"default",style:{width:"235px"}},{default:r(()=>[(A(!0),R(Z,null,de(ee.value,t=>(A(),se(ne,{class:"text-center",key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),l("div",gt,[v(" 是否啟用: "),a(ue,{class:"w-[235px]",size:"large",modelValue:Q.value,"onUpdate:modelValue":e[23]||(e[23]=t=>Q.value=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])])]),_:1},8,["modelValue"])])]),l("div",null,[a(le,{class:"cursor-pointer mt-2",data:Xe.value,"highlight-current-row":"",height:"440","empty-text":"沒有付款方式",onCurrentChange:Ce},{default:r(()=>[a(b,{align:"center",type:"index",label:"序號","min-width":"55"}),a(b,{align:"center",label:"Id",prop:"id","min-width":"55"}),a(b,{align:"center",label:"付款方式",prop:"name","min-width":"100"}),a(b,{align:"center",label:"支付方式",prop:"useMethod","min-width":"80"}),a(b,{align:"center",label:"使用","min-width":"55"},{default:r(({row:t})=>[l("p",null,p(t.disabled==!1?"是":"否"),1)]),_:1})]),_:1},8,["data"]),l("div",yt,[l("p",kt,p(`共 ${m(y).paymentList.length} 樣`),1),l("div",St,[a(ae,{"current-page":F.value,"onUpdate:currentPage":e[25]||(e[25]=t=>F.value=t),small:"",background:"",layout:"prev, next",total:m(y).paymentList.length,onCurrentChange:Ve},null,8,["current-page","total"])]),l("p",_t,p(`${m(y).paymentList.length>0?F.value:0}/${Math.ceil(m(y).paymentList.length/10)}頁`),1)])])])],64)}}},wt={class:"w-full flex items-center flex-col overflow-y-auto"},Ot={class:"w-4/5 mt-10 flex flex-col items-center"},Dt=l("h1",{class:"text-3xl text-white font-bold text-center border-2 border-solid border-black rounded-lg bg-red-500 px-2"}," 權限管理",-1),Mt={class:"mt-5 flex"},Pt={key:0,class:"w-[90%] h-[600px] mt-6 border-2 border-solid border-black rounded-lg flex"},Xt={__name:"index",setup(ce){const x=ie();return(y,g)=>(A(),R("div",wt,[l("div",Ot,[Dt,l("div",Mt,[l("div",{onClick:g[0]||(g[0]=u=>m(x).currentAuthorityManagementPage=0),class:f(["px-2 border-2 border-solid border-black text-center mx-3 text-blue-800 bg-red-500 rounded-lg font-bold text-2xl cursor-pointer select-none",{"bg-yellow-400":m(x).currentAuthorityManagementPage===0}])}," 人員及付款方式管理",2)])]),m(x).currentAuthorityManagementPage===0?(A(),R("div",Pt,[a(Ct)])):Le("",!0)]))}};export{Xt as default};
