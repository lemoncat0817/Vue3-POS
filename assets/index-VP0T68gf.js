import{u as Je,r,q as he,m as H,o as I,c as P,a as e,k as $,d as i,p as o,y as c,f as s,w as m,v as f,t as z,F as De,s as qe,z as Ge,g as t,l as T,i as lt,b as He}from"./index-BZcIPdcA.js";import{u as nt,a as ot}from"./drink-BmB9mtNZ.js";const rt={class:"xl:flex-[1] md:w-[30%] w-[33%]"},ut={class:"flex justify-between mt-2"},at=e("div",{class:"ml-2 lg:text-lg md:text-sm text-xs text-blue-800 font-bold border-b-2 border-solid border-black"},"飲品類型",-1),st={class:"flex mr-2"},dt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},it={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ct={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},vt={class:"dialog-footer"},bt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},pt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},mt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ft={class:"dialog-footer"},xt={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},gt={class:"text-blue-800"},yt={class:"h-full flex items-center"},kt={class:"text-blue-800"},ht={class:"xl:flex-[1] md:w-[40%] w-[34%] border-x-2 border-solid border-black rounded-lg"},_t={class:"flex justify-between mt-2"},wt=e("div",{class:"ml-2 lg:text-lg md:text-sm text-xs text-blue-800 font-bold border-b-2 border-solid border-black"},"飲料品項",-1),Dt={class:"flex mr-2"},It={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ct={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Vt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},$t={class:"flex"},Ut={key:1,class:"w-[235px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2"},Pt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Tt={class:"flex"},St={key:1,class:"w-[235px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2"},jt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Mt={style:{float:"left"}},Et={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},Bt={class:"dialog-footer"},Xt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Lt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},At={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Nt={class:"flex"},zt={key:1,class:"w-[235px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2"},Ot={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Qt={class:"flex"},Ft={key:1,class:"w-[235px] border-2 border-solid border-black rounded-lg ml-2 text-center px-2"},qt={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Gt={style:{float:"left"}},Ht={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},Jt={class:"dialog-footer"},Kt={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},Rt={class:"text-blue-800"},Wt={class:"h-full flex items-center"},Yt={key:0,class:"text-blue-800"},Zt={key:1,class:"text-blue-800"},el={class:"xl:flex-[1] md:w-[30%] w-[33%]"},tl={class:"flex justify-between mt-2"},ll=e("div",{class:"ml-2 lg:text-lg md:text-sm text-xs text-blue-800 font-bold border-b-2 border-solid border-black"},"配料",-1),nl={class:"flex mr-2"},ol={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},rl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ul={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},al={class:"dialog-footer"},sl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},dl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},il={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},cl={class:"dialog-footer"},vl={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},bl={class:"text-blue-800"},pl={class:"h-full flex items-center"},ml={class:"text-blue-800"},fl={__name:"index",setup(Ie){const a=nt(),x=Je(),d=r({}),ge=g=>{d.value=g},M=r(),O=r(""),Q=r(""),W=r(!1),Ce=()=>{M.value="",O.value="",Q.value="",W.value=!0},Ve=()=>{W.value=!1,t.error("取消操作")},$e=()=>{if(M.value===""||O.value===""||Q.value===""){t.error("請輸入完整資訊");return}if(a.drinkType.find(l=>l.id==M.value)){t.error("此Id已存在,請重新輸入");return}if(a.drinkType.find(l=>l.name==O.value)){t.error("此類型已存在,請重新輸入");return}if(a.drinkType.find(l=>l.type==Q.value)){t.error("此類型代碼已存在,請重新輸入");return}if(M.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}const g={id:M.value,name:O.value,type:Q.value,drinkList:[]};a.drinkType.push(g),W.value=!1,t.success("新增成功")},F=r(1),Ue=g=>{F.value=g},Pe=he(()=>a.drinkType.slice((F.value-1)*10,F.value*10)),Te=()=>{if(a.drinkType.length==1){t.error("至少要留有一個飲料類型，需修改請善用編輯功能");return}d.value.name?T.confirm(`是否刪除 ${d.value.name} 類型?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{a.drinkTypeMenu="",a.drinkType=a.drinkType.filter(g=>g.id!==d.value.id),window.location.reload()}).catch(()=>{t.error("取消操作")}):T.alert("請先選擇要刪除的類型","通知",{confirmButtonText:"繼續選擇",type:"info"})},q=r(!1),U=r(),E=r(""),B=r(""),Se=()=>{d.value.name?(U.value=d.value.id,E.value=d.value.name,B.value=d.value.type,q.value=!0):T.alert("請先選擇要編輯的類型","通知",{confirmButtonText:"繼續選擇",type:"info"})},je=()=>{q.value=!1,t.error("取消操作")},Me=()=>{if(U.value===""||E.value===""||B.value===""){t.error("請輸入完整資訊");return}if(U.value==d.value.id&&E.value==d.value.name&&B.value==d.value.type){q.value=!1,t.success("保存成功");return}else{const g=r([]);if(g.value=a.drinkType.filter(V=>V.id!=d.value.id),g.value.some(V=>V.id==U.value)){t.error("此Id已存在,請重新輸入");return}const l=r([]);if(l.value=a.drinkType.filter(V=>V.name!=d.value.name),l.value.some(V=>V.name==E.value)){t.error("此類型已存在,請重新輸入");return}const y=r([]);if(y.value=a.drinkType.filter(V=>V.type!=d.value.type),y.value.some(V=>V.type==B.value)){t.error("此類型代號已存在,請重新輸入");return}if(U.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}}d.value.id=U.value,d.value.name=E.value,d.value.type=B.value,q.value=!1,t.success("保存成功")},v=r({}),Ee=g=>{v.value=g},G=r(!1),ae=()=>{if(d.value.name)K.value=!0,w.value=!0,X.value="",J.value="",Y.value="",L.value="",Z.value="",G.value=!0;else{T.alert("請先選擇要新增飲料品項的的飲品類型","通知",{confirmButtonText:"繼續選擇",type:"info"});return}},X=r(""),J=r(""),Y=r(""),L=r(""),Z=r(""),le=[{value:"none",label:"無客製化，容器限大杯"},{value:"cold",label:"僅可做冷飲"},{value:"both",label:"冷熱飲皆可"}],Be=()=>{if(Z.value==="none"){K.value=!0,w.value=!1,L.value="none",t.error("容器僅限大杯,已關閉瓶裝價格輸入");return}},Xe=()=>{G.value=!1,t.error("取消操作")},K=r(!0),se=()=>{K.value==!1&&(Y.value="none")},w=r(!0),ne=()=>{if(w.value==!1&&(L.value="none"),Z.value==="none"){K.value=!0,w.value=!1,L.value="none",t.error("因為無客製化，容器僅限大杯,請調整客製化設定");return}},ee=()=>{if(X.value===""||J.value===""||Y.value===""||L.value===""||Z.value===""){t.error("請輸入完整資訊");return}if(d.value.drinkList.find(l=>l.id==X.value)){t.error("此Id已存在,請重新輸入");return}if(d.value.drinkList.find(l=>l.name==J.value)){t.error("此飲料名稱已存在,請重新輸入");return}if(Y.value==="none"&&L.value==="none"){t.error("請至少選擇一種飲料容器，請重新輸入");return}if(K.value==!0&&Y.value==="none"){t.error("大杯價格不可為空，請重新輸入");return}if(w.value==!0&&L.value==="none"){t.error("瓶裝價格不可為空，請重新輸入");return}if(Z.value==="none"&&L.value!=="none"&&w.value!==!1){K.value=!0,w.value=!1,L.value="none",t.error("因為無客製化，容器僅限大杯,已關閉瓶裝價格輸入");return}if(X.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(K.value==!0&&Y.value<0){t.error("大杯價格不可為負數,請重新輸入");return}if(w.value==!0&&L.value<0){t.error("瓶裝價格不可為負數,請重新輸入");return}const g={id:X.value,name:J.value,priceL:Y.value,priceBottle:L.value,customized:Z.value};d.value.drinkList.push(g),G.value=!1,t.success("新增成功")},Le=()=>{v.value!=null&&v.value.name?T.confirm(`是否刪除飲料品項 ${v.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{d.value.drinkList=d.value.drinkList.filter(g=>g.id!==v.value.id),t.success("刪除成功")}).catch(()=>{t.error("取消操作")}):T.alert("請先選擇要刪除的飲料品項","通知",{confirmButtonText:"繼續選擇",type:"info"})},te=r(),oe=r(""),h=r(),S=r(),j=r(""),C=r(!0),re=()=>{C.value==!1&&(h.value="none")},D=r(!0),ye=()=>{if(D.value==!1&&(S.value="none"),j.value==="none"){C.value=!0,D.value=!1,S.value="none",t.error("因為無客製化，容器僅限大杯,請調整客製化設定");return}},be=()=>{if(j.value==="none"){C.value=!0,D.value=!1,S.value="none",t.error("容器僅限大杯,已關閉瓶裝價格輸入");return}},R=r(!1),Ae=()=>{R.value=!1,t.error("取消操作")},Ne=()=>{v.value!=null&&v.value.name?(te.value=v.value.id,oe.value=v.value.name,C.value=v.value.priceL!="none",D.value=v.value.priceBottle!="none",h.value=v.value.priceL=="none"?"none":v.value.priceL,S.value=v.value.priceBottle=="none"?"none":v.value.priceBottle,j.value=v.value.customized,R.value=!0):T.alert("請先選擇要編輯的飲料品項","通知",{confirmButtonText:"繼續選擇",type:"info"})},ze=()=>{if(te.value===""||oe.value===""||h.value===""||S.value===""||j.value===""){t.error("請輸入完整資訊");return}if(C.value==!0&&h.value==="none"){t.error("大杯價格不可為空，請重新輸入");return}if(D.value==!0&&S.value==="none"){t.error("瓶裝價格不可為空，請重新輸入");return}if(te.value==v.value.id&&oe.value==v.value.name&&h.value==v.value.priceL&&S.value==v.value.priceBottle&&j.value==v.value.customized){R.value=!1,t.success("保存成功");return}else{const g=r([]);if(g.value=d.value.drinkList.filter(y=>y.id!=v.value.id),g.value.some(y=>y.id==te.value)){t.error("此Id已存在,請重新輸入");return}const l=r([]);if(l.value=d.value.drinkList.filter(y=>y.name!=v.value.name),l.value.some(y=>y.name==oe.value)){t.error("此飲料名稱已存在,請重新輸入");return}if(h.value=="none"&&S.value=="none"){t.error("請至少選擇一種飲料容器,請重新輸入");return}if(j.value==="none"&&S.value!=="none"&&w.value!==!1){C.value=!0,D.value=!1,S.value="none",t.error("因為無客製化，容器僅限大杯,已關閉瓶裝價格輸入");return}if(te.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(C.value==!0&&h.value<0){t.error("大杯價格不可為負數,請重新輸入");return}if(D.value==!0&&S.value<0){t.error("瓶裝價格不可為負數,請重新輸入");return}}v.value.id=te.value,v.value.name=oe.value,v.value.priceL=h.value,v.value.priceBottle=S.value,v.value.customized=j.value,R.value=!1,t.success("保存成功")},p=r(1),u=g=>{p.value=g},k=he(()=>d.value.drinkList?d.value.drinkList.slice((p.value-1)*10,p.value*10):[]),_=r({}),A=g=>{_.value=g},ue=r(!1),ke=()=>{ie.value="",pe.value="",me.value="",ue.value=!0},b=()=>{ue.value=!1,t.error("取消操作")},ie=r(""),pe=r(""),me=r(""),Ke=()=>{if(ie.value===""||pe.value===""||me.value===""){t.error("請輸入完整資訊");return}if(a.drinkAdd.find(l=>l.id==ie.value)){t.error("此Id已存在,請重新輸入");return}if(a.drinkAdd.find(l=>l.name==pe.value)){t.error("此配料名稱已存在,請重新輸入");return}if(ie.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(me.value<0){t.error("配料價格不可為負數,請重新輸入");return}const g={id:ie.value,name:pe.value,price:me.value};a.drinkAdd.push(g),ue.value=!1,t.success("新增成功")},Re=()=>{_.value.name?T.confirm(`是否刪除配料 ${_.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{a.drinkAdd=a.drinkAdd.filter(g=>g.id!==_.value.id),t.success("刪除成功")}).catch(()=>{t.error("取消操作")}):T.alert("請先選擇要刪除的配料","通知",{confirmButtonText:"繼續選擇",type:"info"})},fe=r(!1),We=()=>{fe.value=!1,t.error("取消操作")},de=r(""),ce=r(""),ve=r(""),Ye=()=>{_.value.name?(de.value=_.value.id,ce.value=_.value.name,ve.value=_.value.price,fe.value=!0):T.alert("請先選擇要編輯的配料","通知",{confirmButtonText:"繼續選擇",type:"info"})},Ze=()=>{if(de.value===""||ce.value===""||ve.value===""){t.error("請輸入完整資訊");return}if(de.value==_.value.id&&ce.value==_.value.name&&ve.value==_.value.price){fe.value=!1,t.success("保存成功");return}else{const g=r([]);if(g.value=a.drinkAdd.filter(y=>y.id!=_.value.id),g.value.some(y=>y.id==de.value)){t.error("此Id已存在,請重新輸入");return}const l=r([]);if(l.value=a.drinkAdd.filter(y=>y.name!=_.value.name),l.value.some(y=>y.name==ce.value)){t.error("此配料名稱已存在,請重新輸入");return}if(de.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(ve.value<0){t.error("配料價格不可為負數,請重新輸入");return}}_.value.id=de.value,_.value.name=ce.value,_.value.price=ve.value,fe.value=!1,t.success("保存成功")},xe=r(1),et=g=>{xe.value=g},tt=he(()=>a.drinkAdd?a.drinkAdd.slice((xe.value-1)*10,xe.value*10):[]);return(g,l)=>{const y=H("el-button"),V=H("el-dialog"),N=H("el-table-column"),Oe=H("el-table"),_e=H("el-pagination"),we=H("el-switch"),Qe=H("el-option"),Fe=H("el-select");return I(),P(De,null,[e("div",rt,[e("div",ut,[at,e("div",st,[e("button",{onClick:Ce,class:$(["lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300",{"opacity-50":i(x).userInfo.canSetDrinkType==="X","pointer-events-none":i(x).userInfo.canSetDrinkType==="X"}])},"新增",2),o(V,{modelValue:W.value,"onUpdate:modelValue":l[3]||(l[3]=n=>W.value=n),title:"新增飲品類型",width:"500"},{footer:c(()=>[e("div",vt,[o(y,{onClick:Ve},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:$e},{default:c(()=>[s(" 新增 ")]),_:1})])]),default:c(()=>[e("div",dt,[s(" 飲品類型的Id:"),m(e("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>M.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,M.value]])]),e("div",it,[s(" 飲品類型:"),m(e("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>O.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 原味茶,芝芝系列..."},null,512),[[f,O.value]])]),e("div",ct,[s(" 飲品類型的代號:"),m(e("input",{"onUpdate:modelValue":l[2]||(l[2]=n=>Q.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: drinkMilk..."},null,512),[[f,Q.value]])])]),_:1},8,["modelValue"]),e("button",{onClick:Te,class:$([{"opacity-50":i(x).userInfo.canSetDrinkType==="X","pointer-events-none":i(x).userInfo.canSetDrinkType==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),e("button",{onClick:Se,class:$([{"opacity-50":i(x).userInfo.canSetDrinkType==="X","pointer-events-none":i(x).userInfo.canSetDrinkType==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(V,{modelValue:q.value,"onUpdate:modelValue":l[7]||(l[7]=n=>q.value=n),title:"編輯飲品類型",width:"500"},{footer:c(()=>[e("div",ft,[o(y,{onClick:je},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:Me},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",bt,[s(" 飲品類型的Id:"),m(e("input",{"onUpdate:modelValue":l[4]||(l[4]=n=>U.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,U.value]])]),e("div",pt,[s(" 飲品類型:"),m(e("input",{"onUpdate:modelValue":l[5]||(l[5]=n=>E.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 原味茶,芝芝系列..."},null,512),[[f,E.value]])]),e("div",mt,[s(" 飲品類型的代號:"),m(e("input",{"onUpdate:modelValue":l[6]||(l[6]=n=>B.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: drinkMilk..."},null,512),[[f,B.value]])])]),_:1},8,["modelValue"])])]),e("div",null,[o(Oe,{class:"cursor-pointer mt-2",data:Pe.value,"highlight-current-row":"",height:"440","empty-text":"無飲品類型",onCurrentChange:ge},{default:c(()=>[o(N,{align:"center",type:"index",label:"序號","min-width":"55"}),o(N,{align:"center",label:"Id",prop:"id","min-width":"55"}),o(N,{align:"center",label:"類型",prop:"name","min-width":"95"}),o(N,{align:"center",label:"類型代號",prop:"type","min-width":"130"})]),_:1},8,["data"]),e("div",xt,[e("p",gt,z(`共 ${i(a).drinkType.length} 樣`),1),e("div",yt,[o(_e,{"current-page":F.value,"onUpdate:currentPage":l[8]||(l[8]=n=>F.value=n),small:"",background:"",layout:"prev, next",total:i(a).drinkType.length,onCurrentChange:Ue},null,8,["current-page","total"])]),e("p",kt,z(`${i(a).drinkType.length>0?F.value:0}/${Math.ceil(i(a).drinkType.length/10)}頁`),1)])])]),e("div",ht,[e("div",_t,[wt,e("div",Dt,[e("button",{onClick:ae,class:$([{"opacity-50":i(x).userInfo.canSetDrink==="X","pointer-events-none":i(x).userInfo.canSetDrink==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),o(V,{modelValue:G.value,"onUpdate:modelValue":l[16]||(l[16]=n=>G.value=n),title:"新增飲料品項",width:"500"},{footer:c(()=>[e("div",Bt,[o(y,{onClick:Xe},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:ee},{default:c(()=>[s(" 新增 ")]),_:1})])]),default:c(()=>[e("div",It,[s(" 飲料品項的Id:"),m(e("input",{"onUpdate:modelValue":l[9]||(l[9]=n=>X.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,X.value]])]),e("div",Ct,[s(" 飲料名稱:"),m(e("input",{"onUpdate:modelValue":l[10]||(l[10]=n=>J.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 芝芝金萱,金萱雙Q..."},null,512),[[f,J.value]])]),e("div",Vt,[s(" 大杯價格: "),e("div",$t,[o(we,{modelValue:K.value,"onUpdate:modelValue":l[11]||(l[11]=n=>K.value=n),onChange:se,"active-text":"有","inactive-text":"無","inline-prompt":""},null,8,["modelValue"]),K.value?m((I(),P("input",{key:0,"onUpdate:modelValue":l[12]||(l[12]=n=>Y.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"無此容器，請關左側開關"},null,512)),[[f,Y.value]]):(I(),P("div",Ut," none "))])]),e("div",Pt,[s(" 瓶裝價格: "),e("div",Tt,[o(we,{modelValue:w.value,"onUpdate:modelValue":l[13]||(l[13]=n=>w.value=n),onChange:ne,"active-text":"有","inactive-text":"無","inline-prompt":""},null,8,["modelValue"]),w.value?m((I(),P("input",{key:0,"onUpdate:modelValue":l[14]||(l[14]=n=>L.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"無此容器，請關左側開關"},null,512)),[[f,L.value]]):(I(),P("div",St," none "))])]),e("div",jt,[s(" 客製化: "),o(Fe,{modelValue:Z.value,"onUpdate:modelValue":l[15]||(l[15]=n=>Z.value=n),placeholder:"請選擇飲料的客製化設定",style:{width:"235px"},onChange:Be},{default:c(()=>[(I(),P(De,null,qe(le,n=>o(Qe,{key:n.value,label:n.label,value:n.value},{default:c(()=>[e("span",Mt,z(n.label),1),e("span",Et,z(n.value),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),e("button",{onClick:Le,class:$([{"opacity-50":i(x).userInfo.canSetDrink==="X","pointer-events-none":i(x).userInfo.canSetDrink==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),e("button",{onClick:Ne,class:$([{"opacity-50":i(x).userInfo.canSetDrink==="X","pointer-events-none":i(x).userInfo.canSetDrink==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(V,{modelValue:R.value,"onUpdate:modelValue":l[24]||(l[24]=n=>R.value=n),title:"編輯飲料品項",width:"500"},{footer:c(()=>[e("div",Jt,[o(y,{onClick:Ae},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:ze},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",Xt,[s(" 飲料品項的Id:"),m(e("input",{"onUpdate:modelValue":l[17]||(l[17]=n=>te.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"無此容器，請關左側開關"},null,512),[[f,te.value]])]),e("div",Lt,[s(" 飲料名稱:"),m(e("input",{"onUpdate:modelValue":l[18]||(l[18]=n=>oe.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 芝芝金萱,金萱雙Q..."},null,512),[[f,oe.value]])]),e("div",At,[s(" 大杯價格: "),e("div",Nt,[o(we,{modelValue:C.value,"onUpdate:modelValue":l[19]||(l[19]=n=>C.value=n),"active-text":"有","inactive-text":"無","inline-prompt":"",onChange:re},null,8,["modelValue"]),C.value?m((I(),P("input",{key:0,"onUpdate:modelValue":l[20]||(l[20]=n=>h.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"無此容器，請關左側開關"},null,512)),[[f,h.value]]):(I(),P("div",zt," none "))])]),e("div",Ot,[s(" 瓶裝價格: "),e("div",Qt,[o(we,{modelValue:D.value,"onUpdate:modelValue":l[21]||(l[21]=n=>D.value=n),"active-text":"有","inactive-text":"無","inline-prompt":"",onChange:ye},null,8,["modelValue"]),D.value?m((I(),P("input",{key:0,"onUpdate:modelValue":l[22]||(l[22]=n=>S.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512)),[[f,S.value]]):(I(),P("div",Ft," none "))])]),e("div",qt,[s(" 客製化: "),o(Fe,{modelValue:j.value,"onUpdate:modelValue":l[23]||(l[23]=n=>j.value=n),placeholder:"請選擇飲料的客製化設定",style:{width:"235px"},onChange:be},{default:c(()=>[(I(),P(De,null,qe(le,n=>o(Qe,{key:n.value,label:n.label,value:n.value},{default:c(()=>[e("span",Gt,z(n.label),1),e("span",Ht,z(n.value),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])]),e("div",null,[o(Oe,{class:"cursor-pointer mt-2",data:k.value,"highlight-current-row":"",height:"440","empty-text":"請先選擇飲品類型",onCurrentChange:Ee},{default:c(()=>[o(N,{align:"center",type:"index",label:"序號","min-width":"55"}),o(N,{align:"center",label:"Id",prop:"id","min-width":"55"}),o(N,{align:"center",label:"飲料名稱",prop:"name","min-width":"130"}),o(N,{align:"center",label:"大杯價格",prop:"priceL","min-width":"80"}),o(N,{align:"center",label:"瓶裝價格",prop:"priceBottle","min-width":"80"}),o(N,{align:"center",label:"客製化",prop:"customized","min-width":"70"})]),_:1},8,["data"]),e("div",Kt,[e("p",Rt,z(`共 ${d.value.drinkList?d.value.drinkList.length:0} 樣`),1),e("div",Wt,[d.value.drinkList?(I(),Ge(_e,{key:0,"current-page":p.value,"onUpdate:currentPage":l[25]||(l[25]=n=>p.value=n),small:"",background:"",layout:"prev, next",total:d.value.drinkList.length,onCurrentChange:u},null,8,["current-page","total"])):(I(),Ge(_e,{key:1,"current-page":p.value,"onUpdate:currentPage":l[26]||(l[26]=n=>p.value=n),small:"",background:"",layout:"prev, next",total:0},null,8,["current-page"]))]),d.value.drinkList?(I(),P("p",Yt,z(`${p.value}/${Math.ceil(d.value.drinkList.length/10)}頁`),1)):(I(),P("p",Zt,"0/0頁"))])])]),e("div",el,[e("div",tl,[ll,e("div",nl,[e("button",{onClick:ke,class:$([{"opacity-50":i(x).userInfo.canSetIngredients==="X","pointer-events-none":i(x).userInfo.canSetIngredients==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),o(V,{modelValue:ue.value,"onUpdate:modelValue":l[30]||(l[30]=n=>ue.value=n),title:"新增配料",width:"500"},{footer:c(()=>[e("div",al,[o(y,{onClick:b},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:Ke},{default:c(()=>[s(" 新增 ")]),_:1})])]),default:c(()=>[e("div",ol,[s(" 配料的Id:"),m(e("input",{"onUpdate:modelValue":l[27]||(l[27]=n=>ie.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,ie.value]])]),e("div",rl,[s(" 配料名稱:"),m(e("input",{"onUpdate:modelValue":l[28]||(l[28]=n=>pe.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 波霸,雙Q果..."},null,512),[[f,pe.value]])]),e("div",ul,[s(" 配料的價錢:"),m(e("input",{"onUpdate:modelValue":l[29]||(l[29]=n=>me.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,me.value]])])]),_:1},8,["modelValue"]),e("button",{onClick:Re,class:$([{"opacity-50":i(x).userInfo.canSetIngredients==="X","pointer-events-none":i(x).userInfo.canSetIngredients==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),e("button",{onClick:Ye,class:$([{"opacity-50":i(x).userInfo.canSetIngredients==="X","pointer-events-none":i(x).userInfo.canSetIngredients==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md md:text-sm text-xs text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(V,{modelValue:fe.value,"onUpdate:modelValue":l[34]||(l[34]=n=>fe.value=n),title:"編輯配料",width:"500"},{footer:c(()=>[e("div",cl,[o(y,{onClick:We},{default:c(()=>[s("取消")]),_:1}),o(y,{type:"primary",onClick:Ze},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",sl,[s(" 配料的Id:"),m(e("input",{"onUpdate:modelValue":l[31]||(l[31]=n=>de.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,de.value]])]),e("div",dl,[s(" 配料名稱:"),m(e("input",{"onUpdate:modelValue":l[32]||(l[32]=n=>ce.value=n),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 波霸,雙Q果..."},null,512),[[f,ce.value]])]),e("div",il,[s(" 配料的價錢:"),m(e("input",{"onUpdate:modelValue":l[33]||(l[33]=n=>ve.value=n),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,ve.value]])])]),_:1},8,["modelValue"])])]),e("div",null,[o(Oe,{class:"cursor-pointer mt-2",data:tt.value,"highlight-current-row":"",height:"440","empty-text":"無配料",onCurrentChange:A},{default:c(()=>[o(N,{align:"center",type:"index",label:"序號","min-width":"55"}),o(N,{align:"center",label:"Id",prop:"id","min-width":"55"}),o(N,{align:"center",label:"配料名稱",prop:"name","min-width":"90"}),o(N,{align:"center",label:"價錢",prop:"price","min-width":"65"})]),_:1},8,["data"]),e("div",vl,[e("p",bl,z(`共 ${i(a).drinkAdd.length} 樣`),1),e("div",pl,[o(_e,{"current-page":xe.value,"onUpdate:currentPage":l[35]||(l[35]=n=>xe.value=n),small:"",background:"",layout:"prev, next",total:i(a).drinkAdd.length,onCurrentChange:et},null,8,["current-page","total"])]),e("p",ml,z(`${i(a).drinkAdd.length>0?xe.value:0}/${Math.ceil(i(a).drinkAdd.length/10)}頁`),1)])])])],64)}}},xl={class:"lg:flex-[1] w-[33%]"},gl={class:"flex justify-between mt-2"},yl=e("div",{class:"ml-2 lg:text-lg text-sm text-blue-800 font-bold border-b-2 border-solid border-black"},"現金折扣券",-1),kl={class:"flex mr-2"},hl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},_l={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},wl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Dl={class:"dialog-footer"},Il={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Cl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Vl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},$l={class:"dialog-footer"},Ul={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},Pl={class:"text-blue-800"},Tl={class:"h-full flex items-center"},Sl={class:"text-blue-800"},jl={class:"lg:flex-[1] w-[34%] border-x-2 border-solid border-black rounded-lg"},Ml={class:"flex justify-between mt-2"},El=e("div",{class:"ml-2 lg:text-lg text-sm text-blue-800 font-bold border-b-2 border-solid border-black"},"折數折扣券",-1),Bl={class:"flex mr-2"},Xl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ll={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Al={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Nl={class:"dialog-footer"},zl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ol={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Ql={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},Fl={class:"dialog-footer"},ql={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},Gl={class:"text-blue-800"},Hl={class:"h-full flex items-center"},Jl={class:"text-blue-800"},Kl={class:"lg:flex-[1] w-[33%]"},Rl={class:"flex justify-between mt-2"},Wl=e("div",{class:"ml-2 lg:text-lg text-sm text-blue-800 font-bold border-b-2 border-solid border-black"},"常用優惠",-1),Yl={class:"flex mr-2"},Zl={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},en=["disabled"],tn={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},ln=["disabled"],nn={class:"w-4/5 flex justify-between items-center text-blue-800 text-lg font-bold my-2"},on=["disabled"],rn={class:"dialog-footer"},un={class:"w-full h-10 bg-gray-400 shadow-xl rounded-lg flex justify-around items-center mt-10"},an=e("p",{class:"text-blue-800"},"共 5 樣",-1),sn={class:"h-full flex items-center"},dn=e("p",{class:"text-blue-800"},"1/1頁",-1),cn={__name:"index",setup(Ie){const a=ot(),x=Je(),d=r({}),ge=p=>{d.value=p},M=r(),O=r(""),Q=r(),W=r(!1),Ce=()=>{M.value="",O.value="",Q.value="",W.value=!0},Ve=()=>{W.value=!1,t.error("取消操作")},$e=()=>{if(M.value===""||O.value===""||Q.value===""){t.error("請輸入完整資訊");return}if(a.moneyDiscount.find(u=>u.id==M.value)){t.error("此Id已存在,請重新輸入");return}if(a.moneyDiscount.find(u=>u.name==O.value)){t.error("此折扣券名稱已存在,請重新輸入");return}if(M.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(Q.value<=0){t.error("折抵金額不可為負數且需大於0,請重新輸入");return}const p={id:M.value,name:O.value,discountMoney:Q.value};a.moneyDiscount.push(p),W.value=!1,t.success("新增成功")},F=r(1),Ue=p=>{F.value=p},Pe=he(()=>a.moneyDiscount.slice((F.value-1)*10,F.value*10)),Te=()=>{d.value.name?T.confirm(`是否刪除折扣券 ${d.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{a.moneyDiscount=a.moneyDiscount.filter(p=>p.id!==d.value.id),t.success("刪除成功")}).catch(()=>{t.error("取消操作")}):T.alert("請先選擇要刪除的折扣券","通知",{confirmButtonText:"繼續選擇",type:"info"})},q=r(!1),U=r(),E=r(""),B=r(),Se=()=>{d.value.name?(U.value=d.value.id,E.value=d.value.name,B.value=d.value.discountMoney,q.value=!0):T.alert("請先選擇要編輯的折扣券","通知",{confirmButtonText:"繼續選擇",type:"info"})},je=()=>{q.value=!1,t.error("取消操作")},Me=()=>{if(U.value===""||E.value===""||B.value===""){t.error("請輸入完整資訊");return}if(U.value==d.value.id&&E.value==d.value.name&&B.value==d.value.type){q.value=!1,t.success("保存成功");return}else{const p=r([]);if(p.value=a.moneyDiscount.filter(k=>k.id!=d.value.id),p.value.some(k=>k.id==U.value)){t.error("此Id已存在,請重新輸入");return}const u=r([]);if(u.value=a.moneyDiscount.filter(k=>k.name!=d.value.name),u.value.some(k=>k.name==E.value)){t.error("此折價券名稱已存在,請重新輸入");return}if(U.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(B.value<=0){t.error("折抵金額不可為負數且需大於0,請重新輸入");return}}d.value.id=U.value,d.value.name=E.value,d.value.discountMoney=B.value,q.value=!1,t.success("保存成功")},v=r({}),Ee=p=>{v.value=p},G=r(),ae=r(""),X=r(),J=r(!1),Y=()=>{G.value="",ae.value="",X.value="",J.value=!0},L=()=>{J.value=!1,t.error("取消操作")},Z=()=>{if(G.value===""||ae.value===""||X.value===""){t.error("請輸入完整資訊");return}if(a.percentDiscount.find(u=>u.id==G.value)){t.error("此Id已存在,請重新輸入");return}if(a.percentDiscount.find(u=>u.name==ae.value)){t.error("此折扣券名稱已存在,請重新輸入");return}if(G.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(X.value<0){t.error("折抵折數不可為負數,請重新輸入");return}else if(X.value>=1){t.error("折抵折數不可大於等於1,請重新輸入");return}const p={id:G.value,name:ae.value,discountMoney:X.value};a.percentDiscount.push(p),J.value=!1,t.success("新增成功")},le=r(1),Be=p=>{le.value=p},Xe=he(()=>a.percentDiscount.slice((le.value-1)*10,le.value*10)),K=()=>{v.value.name?T.confirm(`是否刪除折扣券 ${v.value.name} ?`,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{a.percentDiscount=a.percentDiscount.filter(p=>p.id!==v.value.id),t.success("刪除成功")}).catch(()=>{t.error("取消操作")}):T.alert("請先選擇要刪除的折扣券","通知",{confirmButtonText:"繼續選擇",type:"info"})},se=r(!1),w=r(),ne=r(""),ee=r(),Le=()=>{v.value.name?(w.value=v.value.id,ne.value=v.value.name,ee.value=v.value.discountMoney,se.value=!0):T.alert("請先選擇要編輯的折扣券","通知",{confirmButtonText:"繼續選擇",type:"info"})},te=()=>{se.value=!1,t.error("取消操作")},oe=()=>{if(w.value===""||ne.value===""||ee.value===""){t.error("請輸入完整資訊");return}if(w.value==v.value.id&&ne.value==v.value.name&&ee.value==v.value.type){se.value=!1,t.success("保存成功");return}else{const p=r([]);if(p.value=a.percentDiscount.filter(k=>k.id!=v.value.id),p.value.some(k=>k.id==w.value)){t.error("此Id已存在,請重新輸入");return}const u=r([]);if(u.value=a.percentDiscount.filter(k=>k.name!=v.value.name),u.value.some(k=>k.name==ne.value)){t.error("此折價券名稱已存在,請重新輸入");return}if(w.value<=0){t.error("Id不可為負數且需大於0,請重新輸入");return}if(ee.value<0){t.error("折抵折數不可為負數,請重新輸入");return}else if(ee.value>=1){t.error("折抵折數不可大於等於1,請重新輸入");return}}v.value.id=w.value,v.value.name=ne.value,v.value.discountMoney=ee.value,se.value=!1,t.success("保存成功")},h=r({}),S=p=>{h.value=p},j=r(!1),C=r(""),re=r(),D=r(),ye=r(!1),be=r(!1),R=r(!1),Ae=()=>{h.value.name?(C.value=h.value.name,re.value=h.value.discountMoney,D.value=h.value.discountPercent,h.value.id<=2?(ye.value=!0,R.value=!0):(ye.value=!1,R.value=!1),h.value.id>=3?be.value=!0:be.value=!1,j.value=!0):T.alert("請先選擇要編輯的優惠","通知",{confirmButtonText:"繼續選擇",type:"info"})},Ne=()=>{j.value=!1,t.error("取消操作")},ze=()=>{if(C.value===""||re.value===""||D.value===""){t.error("請輸入完整資訊");return}if(C.value==h.value.name&&re.value==h.value.discountMoney&&D.value==h.value.discountPercent){j.value=!1,t.success("保存成功");return}else{const p=r([]);if(p.value=a.oftenUseDiscount.filter(u=>u.name!=h.value.name),p.value.some(u=>u.name==C.value)){t.error("此優惠名稱已存在,請重新輸入");return}if(re.value<=0&&!be.value){t.error("折抵金額不可為負數且需大於0,請重新輸入");return}if(D.value<0&&!R.value){t.error("折抵折數不可為負數,請重新輸入");return}else if(D.value>=1&&!R.value){t.error("折抵折數不可大於等於1,請重新輸入");return}}h.value.name=C.value,h.value.discountMoney=re.value,h.value.discountPercent=D.value,j.value=!1,t.success("保存成功")};return(p,u)=>{const k=H("el-button"),_=H("el-dialog"),A=H("el-table-column"),ue=H("el-table"),ke=H("el-pagination");return I(),P(De,null,[e("div",xl,[e("div",gl,[yl,e("div",kl,[e("button",{onClick:Ce,class:$([{"opacity-50":i(x).userInfo.canSetMoneyDiscount==="X","pointer-events-none":i(x).userInfo.canSetMoneyDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),o(_,{modelValue:W.value,"onUpdate:modelValue":u[3]||(u[3]=b=>W.value=b),title:"新增現金折扣券",width:"500"},{footer:c(()=>[e("div",Dl,[o(k,{onClick:Ve},{default:c(()=>[s("取消")]),_:1}),o(k,{type:"primary",onClick:$e},{default:c(()=>[s(" 新增 ")]),_:1})])]),default:c(()=>[e("div",hl,[s(" 折扣券的Id:"),m(e("input",{"onUpdate:modelValue":u[0]||(u[0]=b=>M.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,M.value]])]),e("div",_l,[s(" 折扣券名稱:"),m(e("input",{"onUpdate:modelValue":u[1]||(u[1]=b=>O.value=b),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: $50折價券..."},null,512),[[f,O.value]])]),e("div",wl,[s(" 折扣的金額:"),m(e("input",{"onUpdate:modelValue":u[2]||(u[2]=b=>Q.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,Q.value]])])]),_:1},8,["modelValue"]),e("button",{onClick:Te,class:$([{"opacity-50":i(x).userInfo.canSetMoneyDiscount==="X","pointer-events-none":i(x).userInfo.canSetMoneyDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),e("button",{onClick:Se,class:$([{"opacity-50":i(x).userInfo.canSetMoneyDiscount==="X","pointer-events-none":i(x).userInfo.canSetMoneyDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(_,{modelValue:q.value,"onUpdate:modelValue":u[7]||(u[7]=b=>q.value=b),title:"編輯現金折扣券",width:"500"},{footer:c(()=>[e("div",$l,[o(k,{onClick:je},{default:c(()=>[s("取消")]),_:1}),o(k,{type:"primary",onClick:Me},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",Il,[s(" 折扣券的Id:"),m(e("input",{"onUpdate:modelValue":u[4]||(u[4]=b=>U.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,U.value]])]),e("div",Cl,[s(" 折扣券名稱:"),m(e("input",{"onUpdate:modelValue":u[5]||(u[5]=b=>E.value=b),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: $50折價券..."},null,512),[[f,E.value]])]),e("div",Vl,[s(" 折扣的金額:"),m(e("input",{"onUpdate:modelValue":u[6]||(u[6]=b=>B.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,B.value]])])]),_:1},8,["modelValue"])])]),e("div",null,[o(ue,{class:"cursor-pointer mt-2",data:Pe.value,"highlight-current-row":"",height:"440","empty-text":"無現金折價券",onCurrentChange:ge},{default:c(()=>[o(A,{align:"center",type:"index",label:"序號","min-width":"55"}),o(A,{align:"center",label:"Id",prop:"id","min-width":"55"}),o(A,{align:"center",label:"折價券名稱",prop:"name","min-width":"90"}),o(A,{align:"center",label:"折價金額",prop:"discountMoney","min-width":"80"})]),_:1},8,["data"]),e("div",Ul,[e("p",Pl,z(`共 ${i(a).moneyDiscount.length} 樣`),1),e("div",Tl,[o(ke,{"current-page":F.value,"onUpdate:currentPage":u[8]||(u[8]=b=>F.value=b),small:"",background:"",layout:"prev, next",total:i(a).moneyDiscount.length,onCurrentChange:Ue},null,8,["current-page","total"])]),e("p",Sl,z(`${i(a).moneyDiscount.length>0?F.value:0}/${Math.ceil(i(a).moneyDiscount.length/10)}頁`),1)])])]),e("div",jl,[e("div",Ml,[El,e("div",Bl,[e("button",{onClick:Y,class:$([{"opacity-50":i(x).userInfo.canSetPercentDiscount==="X","pointer-events-none":i(x).userInfo.canSetPercentDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"新增",2),o(_,{modelValue:J.value,"onUpdate:modelValue":u[12]||(u[12]=b=>J.value=b),title:"新增折數折扣券",width:"500"},{footer:c(()=>[e("div",Nl,[o(k,{onClick:L},{default:c(()=>[s("取消")]),_:1}),o(k,{type:"primary",onClick:Z},{default:c(()=>[s(" 新增 ")]),_:1})])]),default:c(()=>[e("div",Xl,[s(" 折扣券的Id:"),m(e("input",{"onUpdate:modelValue":u[9]||(u[9]=b=>G.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,G.value]])]),e("div",Ll,[s(" 折扣券名稱:"),m(e("input",{"onUpdate:modelValue":u[10]||(u[10]=b=>ae.value=b),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: $50折價券..."},null,512),[[f,ae.value]])]),e("div",Al,[s(" 折扣的折數:"),m(e("input",{"onUpdate:modelValue":u[11]||(u[11]=b=>X.value=b),type:"number",min:"0",step:"0.01",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:0.9,0.75..."},null,512),[[f,X.value]])])]),_:1},8,["modelValue"]),e("button",{onClick:K,class:$([{"opacity-50":i(x).userInfo.canSetPercentDiscount==="X","pointer-events-none":i(x).userInfo.canSetPercentDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"刪除",2),e("button",{onClick:Le,class:$([{"opacity-50":i(x).userInfo.canSetPercentDiscount==="X","pointer-events-none":i(x).userInfo.canSetPercentDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(_,{modelValue:se.value,"onUpdate:modelValue":u[16]||(u[16]=b=>se.value=b),title:"編輯折數折扣券",width:"500"},{footer:c(()=>[e("div",Fl,[o(k,{onClick:te},{default:c(()=>[s("取消")]),_:1}),o(k,{type:"primary",onClick:oe},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",zl,[s(" 折扣券的Id:"),m(e("input",{"onUpdate:modelValue":u[13]||(u[13]=b=>w.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:1,2,3..."},null,512),[[f,w.value]])]),e("div",Ol,[s(" 折扣券名稱:"),m(e("input",{"onUpdate:modelValue":u[14]||(u[14]=b=>ne.value=b),class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: $50折價券..."},null,512),[[f,ne.value]])]),e("div",Ql,[s(" 折扣的折數:"),m(e("input",{"onUpdate:modelValue":u[15]||(u[15]=b=>ee.value=b),type:"number",min:"0",step:"0.01",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"純數字,例如:0.9,0.75..."},null,512),[[f,ee.value]])])]),_:1},8,["modelValue"])])]),e("div",null,[o(ue,{class:"cursor-pointer mt-2",data:Xe.value,"highlight-current-row":"",height:"440","empty-text":"無折數折價券",onCurrentChange:Ee},{default:c(()=>[o(A,{align:"center",type:"index",label:"序號","min-width":"55"}),o(A,{align:"center",label:"Id",prop:"id","min-width":"55"}),o(A,{align:"center",label:"折價券名稱",prop:"name","min-width":"90"}),o(A,{align:"center",label:"折價折數",prop:"discountMoney","min-width":"80"})]),_:1},8,["data"]),e("div",ql,[e("p",Gl,z(`共 ${i(a).percentDiscount.length} 樣`),1),e("div",Hl,[o(ke,{"current-page":le.value,"onUpdate:currentPage":u[17]||(u[17]=b=>le.value=b),small:"",background:"",layout:"prev, next",total:i(a).percentDiscount.length,onCurrentChange:Be},null,8,["current-page","total"])]),e("p",Jl,z(`${i(a).percentDiscount.length>0?le.value:0}/${Math.ceil(i(a).percentDiscount.length/10)}頁`),1)])])]),e("div",Kl,[e("div",Rl,[Wl,e("div",Yl,[e("button",{onClick:Ae,class:$([{"opacity-50":i(x).userInfo.canSetOftenUseDiscount==="X","pointer-events-none":i(x).userInfo.canSetOftenUseDiscount==="X"},"lg:px-2 px-0.5 border-2 border-solid border-black rounded-lg mx-1 lg:text-md text-sm text-blue-800 font-bold bg-red-500 select-none active:bg-yellow-300"])},"編輯",2),o(_,{modelValue:j.value,"onUpdate:modelValue":u[21]||(u[21]=b=>j.value=b),title:"編輯常用優惠",width:"500"},{footer:c(()=>[e("div",rn,[o(k,{onClick:Ne},{default:c(()=>[s("取消")]),_:1}),o(k,{type:"primary",onClick:ze},{default:c(()=>[s(" 保存 ")]),_:1})])]),default:c(()=>[e("div",Zl,[s(" 優惠名稱:"),m(e("input",{"onUpdate:modelValue":u[18]||(u[18]=b=>C.value=b),disabled:ye.value,class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",placeholder:"例如: 九折,員工八折..."},null,8,en),[[f,C.value]])]),e("div",tn,[s(" 折扣的金額:"),m(e("input",{"onUpdate:modelValue":u[19]||(u[19]=b=>re.value=b),type:"number",min:"1",step:"1",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",disabled:be.value,placeholder:"純數字,例如:1,2,3..."},null,8,ln),[[f,re.value]])]),e("div",nn,[s(" 折扣的折數:"),m(e("input",{"onUpdate:modelValue":u[20]||(u[20]=b=>D.value=b),type:"number",min:"0",step:"0.01",class:"border-2 border-solid border-black rounded-lg ml-2 text-center px-2",disabled:R.value,placeholder:"純數字,例如:0.95,0.85..."},null,8,on),[[f,D.value]])])]),_:1},8,["modelValue"])])]),e("div",null,[o(ue,{class:"cursor-pointer mt-2",data:i(a).oftenUseDiscount,"highlight-current-row":"",height:"440",onCurrentChange:S},{default:c(()=>[o(A,{align:"center",type:"index",label:"序號","min-width":"55"}),o(A,{align:"center",label:"優惠名稱",prop:"name","min-width":"90"}),o(A,{align:"center",label:"折價金額",prop:"discountMoney","min-width":"80"}),o(A,{align:"center",label:"折價折數",prop:"discountPercent","min-width":"80"})]),_:1},8,["data"]),e("div",un,[an,e("div",sn,[o(ke,{small:"",background:"",layout:"prev, next",total:5})]),dn])])])],64)}}},vn=lt("setting",()=>({currentSettingPage:r(0)}),{persist:!0}),bn={class:"w-full flex items-center flex-col overflow-y-auto"},pn={class:"w-4/5 mt-10 flex flex-col items-center"},mn=e("h1",{class:"text-3xl text-white font-bold text-center border-2 border-solid border-black rounded-lg bg-red-500 px-2"}," 後台設定",-1),fn={class:"mt-5 flex"},xn={key:0,class:"2xl:w-4/5 xl:w-[90%] w-[95%] h-[600px] mt-6 border-2 border-solid border-black rounded-lg flex"},gn={key:1,class:"2xl:w-4/5 xl:w-[90%] w-[95%] h-[600px] mt-6 border-2 border-solid border-black rounded-lg flex"},hn={__name:"index",setup(Ie){const a=vn();return(x,d)=>(I(),P("div",bn,[e("div",pn,[mn,e("div",fn,[e("div",{onClick:d[0]||(d[0]=ge=>i(a).currentSettingPage=0),class:$(["px-2 border-2 border-solid border-black text-center mx-3 text-blue-800 bg-red-500 rounded-lg font-bold text-2xl cursor-pointer select-none",{"bg-yellow-400":i(a).currentSettingPage===0}])}," 商品管理",2),e("div",{onClick:d[1]||(d[1]=ge=>i(a).currentSettingPage=1),class:$(["px-2 border-2 border-solid border-black text-center mx-3 text-blue-800 bg-red-500 rounded-lg font-bold text-2xl cursor-pointer select-none",{"bg-yellow-400":i(a).currentSettingPage===1}])}," 優惠設定",2)])]),i(a).currentSettingPage===0?(I(),P("div",xn,[o(fl)])):He("",!0),i(a).currentSettingPage===1?(I(),P("div",gn,[o(cn)])):He("",!0)]))}};export{hn as default};
